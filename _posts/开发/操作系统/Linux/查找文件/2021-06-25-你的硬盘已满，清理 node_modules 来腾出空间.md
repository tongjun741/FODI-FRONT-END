---
tags:
    - 操作系统
    - Linux
    - 查找文件
---

一个node_modules文件夹可以占用200+ mb的空间(有时是1GB+ !)

## 列出在目录中找到的所有node_modules:

首先，在实际开始删除它们之前，让我们看看目录中所有的node_modules !



```bash
注意:确保将cd保存到大多数项目所在的特定目录中。文件或文件/github。
```

## Mac / Linux:

这个命令将打印出每个文件夹，甚至显示该文件夹占用了多少空间!



```shell
$ cd documents
$ find . -name "node_modules" -type d -prune -print | xargs du -chs

--- Example output ---
202M    ./cx-website-v1/node_modules
323M    ./cx-podcast-server-admin/node_modules
205M    ./caixie.vip/node_modules
273M    ./gatsbyjs-example/mobius-ml/node_modules
473M    ./education-server/node_modules

1.5G total
```

## Windows:



```ruby
$ cd documents
$ FOR /d /r . %d in (node_modules) DO @IF EXIST "%d" echo %d"
```

这个列表将让您对您的电脑上安装的项目数量有一个很好的了解!

## 删除目录中找到的所有node_modules:



```undefined
注意:在这里使用警告，并确保您处于一个可以轻松删除所有node_modules实例的目录中，在删除之前运行上面的脚本查看所有这些实例的完整列表。
```

这个脚本实际上与上面的脚本非常相似，但是我们将使用rm -rf来完全删除它们。



```undefined
警告:这个过程是不可逆的!
```

## Mac / Linux:



```bash
$ cd documents
$ find . -name 'node_modules' -type d -prune -print -exec rm -rf '{}' \;
```

## Windows:



```ruby
$ cd documents
$ FOR /d /r . %d in (node_modules) DO @IF EXIST "%d" rm -rf "%d"
```

## Powershell Users:



```php
Get-ChildItem -Path "." -Include "node_modules" -Recurse -Directory | Remove-Item -Recurse -Force
```

### 完成

一般情况下我们会清理出 20-40GB 空间，但每个的项目情况有所不同！

## 总结

在删除之前，请确保列出给定目录中的所有node_modules。
 一定要小心，因为这个过程是不可逆的!
 记住要在需要重新处理的项目上安装npm。
 享受更多的空间!:)



作者：佰晟
链接：https://www.jianshu.com/p/de2dcb862465
来源：简书
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。